Return-Path: <io-uring+bounces-6290-lists+io-uring=lfdr.de@vger.kernel.org>
X-Original-To: lists+io-uring@lfdr.de
Delivered-To: lists+io-uring@lfdr.de
Received: from ny.mirrors.kernel.org (ny.mirrors.kernel.org [IPv6:2604:1380:45d1:ec00::1])
	by mail.lfdr.de (Postfix) with ESMTPS id 6DB83A2B8F9
	for <lists+io-uring@lfdr.de>; Fri,  7 Feb 2025 03:22:22 +0100 (CET)
Received: from smtp.subspace.kernel.org (relay.kernel.org [52.25.139.140])
	(using TLSv1.2 with cipher ECDHE-ECDSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by ny.mirrors.kernel.org (Postfix) with ESMTPS id A8E4A1678BC
	for <lists+io-uring@lfdr.de>; Fri,  7 Feb 2025 02:22:12 +0000 (UTC)
Received: from localhost.localdomain (localhost.localdomain [127.0.0.1])
	by smtp.subspace.kernel.org (Postfix) with ESMTP id 8DAAA18B499;
	Fri,  7 Feb 2025 02:20:50 +0000 (UTC)
X-Original-To: io-uring@vger.kernel.org
Received: from szxga05-in.huawei.com (szxga05-in.huawei.com [45.249.212.191])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id D124617B418
	for <io-uring@vger.kernel.org>; Fri,  7 Feb 2025 02:20:46 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=45.249.212.191
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1738894850; cv=none; b=gfieoBfjaghjy8qejlEFmhTR2TfRubVwvIKcuc8bxv63n6+NqI3VFh6kiQaHvC+Z7IHUNkPaqLPNGuKuA1AMmPrI4Ilv52GPml7HzAus9W9PY+s7d6JkFzLO5GKdlRQg3T+pXPDTlRI0t9nAD5NIKwSppId9e3POvka9L7quwbE=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1738894850; c=relaxed/simple;
	bh=pg95GeMkvx4NFwKbSy6HIeFfTy1K0rEFLJtB0VA5XF4=;
	h=From:To:CC:Subject:Date:Message-ID:References:In-Reply-To:
	 Content-Type:MIME-Version; b=EaOkfU2yuVqj14aGrCTQqUeC0fQX83a5cTbIeXTWfxKFvqrIITSDiALSRJlFdCH/5S9ma+2HkctMzPc4nV3NKCy4rbxQ9DDrmvv3WoL0UOOdSe/bnYfGPptQD7d+HuDd0fvDLdCe/iZ5BcubMQAxwUDnwHP238gC7kUtq7VA/FA=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=huawei.com; spf=pass smtp.mailfrom=huawei.com; arc=none smtp.client-ip=45.249.212.191
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=huawei.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=huawei.com
Received: from mail.maildlp.com (unknown [172.19.162.112])
	by szxga05-in.huawei.com (SkyGuard) with ESMTP id 4YpyMz0CNWz1JJd5;
	Fri,  7 Feb 2025 10:19:27 +0800 (CST)
Received: from kwepemd500010.china.huawei.com (unknown [7.221.188.84])
	by mail.maildlp.com (Postfix) with ESMTPS id 5AB1D140257;
	Fri,  7 Feb 2025 10:20:44 +0800 (CST)
Received: from kwepemd500012.china.huawei.com (7.221.188.25) by
 kwepemd500010.china.huawei.com (7.221.188.84) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.2.1258.34; Fri, 7 Feb 2025 10:20:44 +0800
Received: from kwepemd500012.china.huawei.com ([7.221.188.25]) by
 kwepemd500012.china.huawei.com ([7.221.188.25]) with mapi id 15.02.1258.034;
 Fri, 7 Feb 2025 10:20:43 +0800
From: lizetao <lizetao1@huawei.com>
To: Uday Shankar <ushankar@purestorage.com>
CC: "io-uring@vger.kernel.org" <io-uring@vger.kernel.org>, Jens Axboe
	<axboe@kernel.dk>, Pavel Begunkov <asml.silence@gmail.com>
Subject: RE: [PATCH] io-wq: backoff when retrying worker creation
Thread-Topic: [PATCH] io-wq: backoff when retrying worker creation
Thread-Index: AQHbeOf+zS7JPCJGAU2QX893c4H6N7M7GrLg
Date: Fri, 7 Feb 2025 02:20:43 +0000
Message-ID: <c2da8716122e47ce902e0397e66cf124@huawei.com>
References: <20250206-wq_retry-v1-1-6d79bde1e69f@purestorage.com>
In-Reply-To: <20250206-wq_retry-v1-1-6d79bde1e69f@purestorage.com>
Accept-Language: en-US
Content-Language: zh-CN
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Precedence: bulk
X-Mailing-List: io-uring@vger.kernel.org
List-Id: <io-uring.vger.kernel.org>
List-Subscribe: <mailto:io-uring+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:io-uring+unsubscribe@vger.kernel.org>
MIME-Version: 1.0

SGksDQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTogVWRheSBTaGFua2Fy
IDx1c2hhbmthckBwdXJlc3RvcmFnZS5jb20+DQo+IFNlbnQ6IEZyaWRheSwgRmVicnVhcnkgNywg
MjAyNSA2OjM5IEFNDQo+IFRvOiBKZW5zIEF4Ym9lIDxheGJvZUBrZXJuZWwuZGs+OyBQYXZlbCBC
ZWd1bmtvdiA8YXNtbC5zaWxlbmNlQGdtYWlsLmNvbT4NCj4gQ2M6IGlvLXVyaW5nQHZnZXIua2Vy
bmVsLm9yZzsgVWRheSBTaGFua2FyIDx1c2hhbmthckBwdXJlc3RvcmFnZS5jb20+DQo+IFN1Ympl
Y3Q6IFtQQVRDSF0gaW8td3E6IGJhY2tvZmYgd2hlbiByZXRyeWluZyB3b3JrZXIgY3JlYXRpb24N
Cj4gDQo+IFdoZW4gaW9fdXJpbmcgc3VibWlzc2lvbiBnb2VzIGFzeW5jIGZvciB0aGUgZmlyc3Qg
dGltZSBvbiBhIGdpdmVuIHRhc2ssIHdlJ2xsIHRyeSB0bw0KPiBjcmVhdGUgYSB3b3JrZXIgdGhy
ZWFkIHRvIGhhbmRsZSB0aGUgc3VibWlzc2lvbi4gQ3JlYXRpbmcgdGhpcyB3b3JrZXIgdGhyZWFk
IGNhbg0KPiBmYWlsIGR1ZSB0byB2YXJpb3VzIHRyYW5zaWVudCBjb25kaXRpb25zLCBzdWNoIGFz
IGFuIG91dHN0YW5kaW5nIHNpZ25hbCBpbiB0aGUgZm9ya2luZw0KPiB0aHJlYWQsIHNvIHdlIGhh
dmUgcmV0cnkgbG9naWMgd2l0aCBhIGxpbWl0IG9mIDMgcmV0cmllcy4gSG93ZXZlciwgdGhpcyBy
ZXRyeSBsb2dpYw0KPiBhcHBlYXJzIHRvIGJlIHRvbyBhZ2dyZXNzaXZlL2Zhc3QgLSB3ZSd2ZSBv
YnNlcnZlZCBhIHRocmVhZCBibG93aW5nIHRocm91Z2ggdGhlDQo+IHJldHJ5IGxpbWl0IHdoaWxl
IGhhdmluZyB0aGUgc2FtZSBvdXRzdGFuZGluZyBzaWduYWwgdGhlIHdob2xlIHRpbWUuIEhlcmUn
cyBhbg0KPiBleGNlcnB0IG9mIHNvbWUgdHJhY2luZyB0aGF0IGRlbW9uc3RyYXRlcyB0aGUgaXNz
dWU6DQo+IA0KPiBGaXJzdCwgc2lnbmFsIDI2IGlzIGdlbmVyYXRlZCBmb3IgdGhlIHByb2Nlc3Mu
IEl0IGVuZHMgdXAgZ2V0dGluZyByb3V0ZWQgdG8gdGhyZWFkDQo+IDkyOTQyLg0KPiANCj4gIDAp
ICAgY2JkLTkyMjg0ICAgIC8qIHNpZ25hbF9nZW5lcmF0ZTogc2lnPTI2IGVycm5vPTAgY29kZT0t
Mg0KPiBjb21tPXBzYmxrZEFTRCBwaWQ9OTI5MzQgZ3JwPTEgcmVzPTAgKi8NCj4gDQo+IFRoaXMg
Y2F1c2VzIGNyZWF0ZV9pb190aHJlYWQgaW4gdGhlIHNpZ25hbGxlZCB0aHJlYWQgdG8gZmFpbCB3
aXRoIEVSRVNUQVJUTk9JTlRSLA0KPiBhbmQgdGh1cyBhIHJldHJ5IGlzIHF1ZXVlZC4NCj4gDQo+
IDEzKSB0YXNrX3RoLTkyOTQyICAvKiBpb191cmluZ19xdWV1ZV9hc3luY193b3JrOiByaW5nIDAw
MDAwMDAwNzMyNWM5YWUsDQo+IHJlcXVlc3QgMDAwMDAwMDA4MGM5NmQ4ZSwgdXNlcl9kYXRhIDB4
MCwgb3Bjb2RlIFVSSU5HX0NNRCwgZmxhZ3MNCj4gMHg4MjQwMDAxLCBub3JtYWwgcXVldWUsIHdv
cmsgMDAwMDAwMDA2ZTk2ZGQzZiAqLw0KPiAxMykgdGFza190aC05Mjk0MiAgaW9fd3FfZW5xdWV1
ZSgpIHsNCj4gMTMpIHRhc2tfdGgtOTI5NDIgICAgX3Jhd19zcGluX2xvY2soKTsNCj4gMTMpIHRh
c2tfdGgtOTI5NDIgICAgaW9fd3FfYWN0aXZhdGVfZnJlZV93b3JrZXIoKTsNCj4gMTMpIHRhc2tf
dGgtOTI5NDIgICAgX3Jhd19zcGluX2xvY2soKTsNCj4gMTMpIHRhc2tfdGgtOTI5NDIgICAgY3Jl
YXRlX2lvX3dvcmtlcigpIHsNCj4gMTMpIHRhc2tfdGgtOTI5NDIgICAgICBfX2ttYWxsb2NfY2Fj
aGVfbm9wcm9mKCk7DQo+IDEzKSB0YXNrX3RoLTkyOTQyICAgICAgX19pbml0X3N3YWl0X3F1ZXVl
X2hlYWQoKTsNCj4gMTMpIHRhc2tfdGgtOTI5NDIgICAgICBrcHJvYmVfZnRyYWNlX2hhbmRsZXIo
KSB7DQo+IDEzKSB0YXNrX3RoLTkyOTQyICAgICAgICBnZXRfa3Byb2JlKCk7DQo+IDEzKSB0YXNr
X3RoLTkyOTQyICAgICAgICBhZ2dyX3ByZV9oYW5kbGVyKCkgew0KPiAxMykgdGFza190aC05Mjk0
MiAgICAgICAgICBwcmVfaGFuZGxlcl9rcmV0cHJvYmUoKTsNCj4gMTMpIHRhc2tfdGgtOTI5NDIg
ICAgICAgICAgLyogY3JlYXRlX2VudGVyOiAoY3JlYXRlX2lvX3RocmVhZCsweDAvMHg1MCkNCj4g
Zm49MHhmZmZmZmZmZjgxNzJjMGUwIGFyZz0weGZmZmY4ODg5OTZiYjY5YzAgbm9kZT0tMSAqLw0K
PiAxMykgdGFza190aC05Mjk0MiAgICAgICAgfSAvKiBhZ2dyX3ByZV9oYW5kbGVyICovDQo+IC4u
Lg0KPiAxMykgdGFza190aC05Mjk0MiAgICAgICAgfSAvKiBjb3B5X3Byb2Nlc3MgKi8NCj4gMTMp
IHRhc2tfdGgtOTI5NDIgICAgICB9IC8qIGNyZWF0ZV9pb190aHJlYWQgKi8NCj4gMTMpIHRhc2tf
dGgtOTI5NDIgICAgICBrcmV0cHJvYmVfcmV0aG9va19oYW5kbGVyKCkgew0KPiAxMykgdGFza190
aC05Mjk0MiAgICAgICAgLyogY3JlYXRlX2V4aXQ6IChjcmVhdGVfaW9fd29ya2VyKzB4OGEvMHgx
YTAgPC0NCj4gY3JlYXRlX2lvX3RocmVhZCkgYXJnMT0weGZmZmZmZmZmZmZmZmZkZmYgKi8NCj4g
MTMpIHRhc2tfdGgtOTI5NDIgICAgICB9IC8qIGtyZXRwcm9iZV9yZXRob29rX2hhbmRsZXIgKi8N
Cj4gMTMpIHRhc2tfdGgtOTI5NDIgICAgcXVldWVfd29ya19vbigpIHsNCj4gLi4uDQo+IA0KPiBU
aGUgQ1BVIGlzIHRoZW4gaGFuZGVkIHRvIGEga3dvcmtlciB0byBwcm9jZXNzIHRoZSBxdWV1ZWQg
cmV0cnk6DQo+IA0KPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0N
Cj4gIDEzKSB0YXNrX3RoLTkyOTQyICA9PiBrd29ya2VyLTU0MTU0DQo+IC0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiAxMykga3dvcmtlci01NDE1NCAgaW9fd29y
a3F1ZXVlX2NyZWF0ZSgpIHsNCj4gMTMpIGt3b3JrZXItNTQxNTQgICAgaW9fcXVldWVfd29ya2Vy
X2NyZWF0ZSgpIHsNCj4gMTMpIGt3b3JrZXItNTQxNTQgICAgICB0YXNrX3dvcmtfYWRkKCkgew0K
PiAxMykga3dvcmtlci01NDE1NCAgICAgICAgd2FrZV91cF9zdGF0ZSgpIHsNCj4gMTMpIGt3b3Jr
ZXItNTQxNTQgICAgICAgICAgdHJ5X3RvX3dha2VfdXAoKSB7DQo+IDEzKSBrd29ya2VyLTU0MTU0
ICAgICAgICAgICAgX3Jhd19zcGluX2xvY2tfaXJxc2F2ZSgpOw0KPiAxMykga3dvcmtlci01NDE1
NCAgICAgICAgICAgIF9yYXdfc3Bpbl91bmxvY2tfaXJxcmVzdG9yZSgpOw0KPiAxMykga3dvcmtl
ci01NDE1NCAgICAgICAgICB9IC8qIHRyeV90b193YWtlX3VwICovDQo+IDEzKSBrd29ya2VyLTU0
MTU0ICAgICAgICB9IC8qIHdha2VfdXBfc3RhdGUgKi8NCj4gMTMpIGt3b3JrZXItNTQxNTQgICAg
ICAgIGtpY2tfcHJvY2VzcygpOw0KPiAxMykga3dvcmtlci01NDE1NCAgICAgIH0gLyogdGFza193
b3JrX2FkZCAqLw0KPiAxMykga3dvcmtlci01NDE1NCAgICB9IC8qIGlvX3F1ZXVlX3dvcmtlcl9j
cmVhdGUgKi8NCj4gMTMpIGt3b3JrZXItNTQxNTQgIH0gLyogaW9fd29ya3F1ZXVlX2NyZWF0ZSAq
Lw0KPiANCj4gQW5kIHRoZW4gd2UgaW1tZWRpYXRlbHkgc3dpdGNoIGJhY2sgdG8gdGhlIG9yaWdp
bmFsIHRhc2sgdG8gdHJ5IGNyZWF0aW5nIGEgd29ya2VyDQo+IGFnYWluLiBUaGlzIGZhaWxzLCBi
ZWNhdXNlIHRoZSBvcmlnaW5hbCB0YXNrIHN0aWxsIGhhc24ndCBoYW5kbGVkIGl0cyBzaWduYWwu
DQo+IA0KPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiAgMTMp
IGt3b3JrZXItNTQxNTQgID0+IHRhc2tfdGgtOTI5NDINCj4gLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tDQo+IDEzKSB0YXNrX3RoLTkyOTQyICBjcmVhdGVfd29ya2Vy
X2NvbnQoKSB7DQo+IDEzKSB0YXNrX3RoLTkyOTQyICAgIGtwcm9iZV9mdHJhY2VfaGFuZGxlcigp
IHsNCj4gMTMpIHRhc2tfdGgtOTI5NDIgICAgICBnZXRfa3Byb2JlKCk7DQo+IDEzKSB0YXNrX3Ro
LTkyOTQyICAgICAgYWdncl9wcmVfaGFuZGxlcigpIHsNCj4gMTMpIHRhc2tfdGgtOTI5NDIgICAg
ICAgIHByZV9oYW5kbGVyX2tyZXRwcm9iZSgpOw0KPiAxMykgdGFza190aC05Mjk0MiAgICAgICAg
LyogY3JlYXRlX2VudGVyOiAoY3JlYXRlX2lvX3RocmVhZCsweDAvMHg1MCkNCj4gZm49MHhmZmZm
ZmZmZjgxNzJjMGUwIGFyZz0weGZmZmY4ODg5OTZiYjY5YzAgbm9kZT0tMSAqLw0KPiAxMykgdGFz
a190aC05Mjk0MiAgICAgIH0gLyogYWdncl9wcmVfaGFuZGxlciAqLw0KPiAxMykgdGFza190aC05
Mjk0MiAgICB9IC8qIGtwcm9iZV9mdHJhY2VfaGFuZGxlciAqLw0KPiAxMykgdGFza190aC05Mjk0
MiAgICBjcmVhdGVfaW9fdGhyZWFkKCkgew0KPiAxMykgdGFza190aC05Mjk0MiAgICAgIGNvcHlf
cHJvY2VzcygpIHsNCj4gMTMpIHRhc2tfdGgtOTI5NDIgICAgICAgIHRhc2tfYWN0aXZlX3BpZF9u
cygpOw0KPiAxMykgdGFza190aC05Mjk0MiAgICAgICAgX3Jhd19zcGluX2xvY2tfaXJxKCk7DQo+
IDEzKSB0YXNrX3RoLTkyOTQyICAgICAgICByZWNhbGNfc2lncGVuZGluZygpOw0KPiAxMykgdGFz
a190aC05Mjk0MiAgICAgICAgX3Jhd19zcGluX2xvY2tfaXJxKCk7DQo+IDEzKSB0YXNrX3RoLTky
OTQyICAgICAgfSAvKiBjb3B5X3Byb2Nlc3MgKi8NCj4gMTMpIHRhc2tfdGgtOTI5NDIgICAgfSAv
KiBjcmVhdGVfaW9fdGhyZWFkICovDQo+IDEzKSB0YXNrX3RoLTkyOTQyICAgIGtyZXRwcm9iZV9y
ZXRob29rX2hhbmRsZXIoKSB7DQo+IDEzKSB0YXNrX3RoLTkyOTQyICAgICAgLyogY3JlYXRlX2V4
aXQ6IChjcmVhdGVfd29ya2VyX2NvbnQrMHgzNS8weDFiMCA8LQ0KPiBjcmVhdGVfaW9fdGhyZWFk
KSBhcmcxPTB4ZmZmZmZmZmZmZmZmZmRmZiAqLw0KPiAxMykgdGFza190aC05Mjk0MiAgICB9IC8q
IGtyZXRwcm9iZV9yZXRob29rX2hhbmRsZXIgKi8NCj4gMTMpIHRhc2tfdGgtOTI5NDIgICAgaW9f
d29ya2VyX3JlbGVhc2UoKTsNCj4gMTMpIHRhc2tfdGgtOTI5NDIgICAgcXVldWVfd29ya19vbigp
IHsNCj4gMTMpIHRhc2tfdGgtOTI5NDIgICAgICBjbGVhcl9wZW5kaW5nX2lmX2Rpc2FibGVkKCk7
DQo+IDEzKSB0YXNrX3RoLTkyOTQyICAgICAgX19xdWV1ZV93b3JrKCkgew0KPiAxMykgdGFza190
aC05Mjk0MiAgICAgIH0gLyogX19xdWV1ZV93b3JrICovDQo+IDEzKSB0YXNrX3RoLTkyOTQyICAg
IH0gLyogcXVldWVfd29ya19vbiAqLw0KPiAxMykgdGFza190aC05Mjk0MiAgfSAvKiBjcmVhdGVf
d29ya2VyX2NvbnQgKi8NCj4gDQo+IFRoZSBwYXR0ZXJuIHJlcGVhdHMgYW5vdGhlciBjb3VwbGUg
dGltZXMgdW50aWwgd2UgYmxvdyB0aHJvdWdoIHRoZSByZXRyeSBjb3VudGVyLA0KPiBhdCB3aGlj
aCBwb2ludCB3ZSBnaXZlIHVwLiBBbGwgb3V0c3RhbmRpbmcgd29yayBpcyBjYW5jZWxlZCwgYW5k
IHRoZSBpb191cmluZw0KPiBjb21tYW5kIHdoaWNoIHRyaWdnZXJlZCBhbGwgdGhpcyBpcyBmYWls
ZWQgd2l0aA0KPiBFQ0FOQ0VMRUQ6DQo+IA0KPiAxMykgdGFza190aC05Mjk0MiAgaW9fYWNjdF9j
YW5jZWxfcGVuZGluZ193b3JrKCkgeyAuLi4NCj4gMTMpIHRhc2tfdGgtOTI5NDIgIC8qIGlvX3Vy
aW5nX2NvbXBsZXRlOiByaW5nIDAwMDAwMDAwNzMyNWM5YWUsIHJlcQ0KPiAwMDAwMDAwMDgwYzk2
ZDhlLCB1c2VyX2RhdGEgMHgwLCByZXN1bHQgLTEyNSwgY2ZsYWdzIDB4MCBleHRyYTEgMCBleHRy
YTIgMCAgKi8NCj4gDQo+IEZpbmFsbHksIHRoZSB0YXNrIGdldHMgYXJvdW5kIHRvIHByb2Nlc3Np
bmcgaXRzIG91dHN0YW5kaW5nIHNpZ25hbCAyNiwgYnV0IGl0J3MgdG9vDQo+IGxhdGUuDQo+IA0K
PiAxMykgdGFza190aC05Mjk0MiAgLyogc2lnbmFsX2RlbGl2ZXI6IHNpZz0yNiBlcnJubz0wIGNv
ZGU9LTINCj4gc2FfaGFuZGxlcj01OTU2NmEwIHNhX2ZsYWdzPTE0MDAwMDAwICovDQo+IA0KPiBU
cnkgdG8gYWRkcmVzcyB0aGlzIGlzc3VlIGJ5IGFkZGluZyBhIHNtYWxsIHNjYWxpbmcgZGVsYXkg
d2hlbiByZXRyeWluZyB3b3JrZXINCj4gY3JlYXRpb24uIFRoaXMgc2hvdWxkIGdpdmUgdGhlIGZv
cmtpbmcgdGhyZWFkIHRpbWUgdG8gaGFuZGxlIGl0cyBzaWduYWwgaW4gdGhlIGFib3ZlDQo+IGNh
c2UuIFRoaXMgaXNuJ3QgYSBwYXJ0aWN1bGFybHkgc2F0aXNmeWluZyBzb2x1dGlvbiwgYXMgc3Vm
ZmljaWVudGx5IHBhcmFkb3hpY2FsDQo+IHNjaGVkdWxpbmcgd291bGQgc3RpbGwgaGF2ZSB1cyBo
aXR0aW5nIHRoZSBzYW1lIGlzc3VlLCBhbmQgSSdtIG9wZW4gdG8gc3VnZ2VzdGlvbnMNCj4gZm9y
IHNvbWV0aGluZyBiZXR0ZXIuIEJ1dCB0aGlzIGlzIGxpa2VseSB0byBwcmV2ZW50IHRoaXMgKGFs
cmVhZHkgcmFyZSkgaXNzdWUgZnJvbQ0KPiBoaXR0aW5nIGluIHByYWN0aWNlLg0KPiANCj4gU2ln
bmVkLW9mZi1ieTogVWRheSBTaGFua2FyIDx1c2hhbmthckBwdXJlc3RvcmFnZS5jb20+DQo+IC0t
LQ0KPiAgaW9fdXJpbmcvaW8td3EuYyB8IDIzICsrKysrKysrKysrKysrKysrKy0tLS0tDQo+ICAx
IGZpbGUgY2hhbmdlZCwgMTggaW5zZXJ0aW9ucygrKSwgNSBkZWxldGlvbnMoLSkNCj4gDQo+IGRp
ZmYgLS1naXQgYS9pb191cmluZy9pby13cS5jIGIvaW9fdXJpbmcvaW8td3EuYyBpbmRleA0KPiBm
N2QzMjhmZWI3MjI1ZDgwOTYwMTcwN2U0MjNjODZhODVlYmIxYzNjLi4xNzNjNzdiNzAwNjBiYmJi
MmNkNjAwOQ0KPiA2MTRjMDc5MDk1ZmFiM2UzYyAxMDA2NDQNCj4gLS0tIGEvaW9fdXJpbmcvaW8t
d3EuYw0KPiArKysgYi9pb191cmluZy9pby13cS5jDQo+IEBAIC02Myw3ICs2Myw3IEBAIHN0cnVj
dCBpb193b3JrZXIgew0KPiANCj4gIAl1bmlvbiB7DQo+ICAJCXN0cnVjdCByY3VfaGVhZCByY3U7
DQo+IC0JCXN0cnVjdCB3b3JrX3N0cnVjdCB3b3JrOw0KPiArCQlzdHJ1Y3QgZGVsYXllZF93b3Jr
IHdvcms7DQo+ICAJfTsNCj4gIH07DQo+IA0KPiBAQCAtNzg0LDYgKzc4NCwxOCBAQCBzdGF0aWMg
aW5saW5lIGJvb2wgaW9fc2hvdWxkX3JldHJ5X3RocmVhZChzdHJ1Y3QNCj4gaW9fd29ya2VyICp3
b3JrZXIsIGxvbmcgZXJyKQ0KPiAgCX0NCj4gIH0NCj4gDQo+ICtzdGF0aWMgdm9pZCBxdWV1ZV9j
cmVhdGVfd29ya2VyX3JldHJ5KHN0cnVjdCBpb193b3JrZXIgKndvcmtlcikgew0KPiArCS8qDQo+
ICsJICogV2Ugb25seSBib3RoZXIgcmV0cnlpbmcgYmVjYXVzZSB0aGVyZSdzIGEgY2hhbmNlIHRo
YXQgdGhlDQo+ICsJICogZmFpbHVyZSB0byBjcmVhdGUgYSB3b3JrZXIgaXMgZHVlIHRvIHNvbWUg
dGVtcG9yYXJ5IGNvbmRpdGlvbg0KPiArCSAqIGluIHRoZSBmb3JraW5nIHRhc2sgKGUuZy4gb3V0
c3RhbmRpbmcgc2lnbmFsKTsgZ2l2ZSB0aGUgdGFzaw0KPiArCSAqIHNvbWUgdGltZSB0byBjbGVh
ciB0aGF0IGNvbmRpdGlvbi4NCj4gKwkgKi8NCj4gKwlzY2hlZHVsZV9kZWxheWVkX3dvcmsoDQo+
ICsJCSZ3b3JrZXItPndvcmssIG1zZWNzX3RvX2ppZmZpZXMod29ya2VyLT5pbml0X3JldHJpZXMg
KiA1KSk7IH0NCg0KV2h5IGNob29zZSAod29ya2VyLT5pbml0X3JldHJpZXMgKiA1KSBhcyB0aGUg
ZGVsYXkgdGltZSBoZXJlPyBJcyBpdCB0aGUgZXN0aW1hdGVkIHRpbWUNCnRvIHByb2Nlc3MgdGhl
IHNpZ25hbD8NCg0KPiArDQo+ICBzdGF0aWMgdm9pZCBjcmVhdGVfd29ya2VyX2NvbnQoc3RydWN0
IGNhbGxiYWNrX2hlYWQgKmNiKSAgew0KPiAgCXN0cnVjdCBpb193b3JrZXIgKndvcmtlcjsNCj4g
QEAgLTgyMywxMiArODM1LDEzIEBAIHN0YXRpYyB2b2lkIGNyZWF0ZV93b3JrZXJfY29udChzdHJ1
Y3QgY2FsbGJhY2tfaGVhZA0KPiAqY2IpDQo+IA0KPiAgCS8qIHJlLWNyZWF0ZSBhdHRlbXB0cyBn
cmFiIGEgbmV3IHdvcmtlciByZWYsIGRyb3AgdGhlIGV4aXN0aW5nIG9uZSAqLw0KPiAgCWlvX3dv
cmtlcl9yZWxlYXNlKHdvcmtlcik7DQo+IC0Jc2NoZWR1bGVfd29yaygmd29ya2VyLT53b3JrKTsN
Cj4gKwlxdWV1ZV9jcmVhdGVfd29ya2VyX3JldHJ5KHdvcmtlcik7DQo+ICB9DQo+IA0KPiAgc3Rh
dGljIHZvaWQgaW9fd29ya3F1ZXVlX2NyZWF0ZShzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspICB7
DQo+IC0Jc3RydWN0IGlvX3dvcmtlciAqd29ya2VyID0gY29udGFpbmVyX29mKHdvcmssIHN0cnVj
dCBpb193b3JrZXIsIHdvcmspOw0KPiArCXN0cnVjdCBpb193b3JrZXIgKndvcmtlciA9IGNvbnRh
aW5lcl9vZigNCj4gKwkJd29yaywgc3RydWN0IGlvX3dvcmtlciwgd29yay53b3JrKTsNCj4gIAlz
dHJ1Y3QgaW9fd3FfYWNjdCAqYWNjdCA9IGlvX3dxX2dldF9hY2N0KHdvcmtlcik7DQo+IA0KPiAg
CWlmICghaW9fcXVldWVfd29ya2VyX2NyZWF0ZSh3b3JrZXIsIGFjY3QsIGNyZWF0ZV93b3JrZXJf
Y29udCkpIEBAIC04NjYsOA0KPiArODc5LDggQEAgc3RhdGljIGJvb2wgY3JlYXRlX2lvX3dvcmtl
cihzdHJ1Y3QgaW9fd3EgKndxLCBzdHJ1Y3QgaW9fd3FfYWNjdA0KPiAqYWNjdCkNCj4gIAkJa2Zy
ZWUod29ya2VyKTsNCj4gIAkJZ290byBmYWlsOw0KPiAgCX0gZWxzZSB7DQo+IC0JCUlOSVRfV09S
Sygmd29ya2VyLT53b3JrLCBpb193b3JrcXVldWVfY3JlYXRlKTsNCj4gLQkJc2NoZWR1bGVfd29y
aygmd29ya2VyLT53b3JrKTsNCj4gKwkJSU5JVF9ERUxBWUVEX1dPUksoJndvcmtlci0+d29yaywg
aW9fd29ya3F1ZXVlX2NyZWF0ZSk7DQo+ICsJCXF1ZXVlX2NyZWF0ZV93b3JrZXJfcmV0cnkod29y
a2VyKTsNCj4gIAl9DQo+IA0KPiAgCXJldHVybiB0cnVlOw0KPiANCj4gLS0tDQo+IGJhc2UtY29t
bWl0OiBlYzRlZjU1MTcyZDQ1MzlhYmZmNDcwNTY4YTQzNjlhNmUxYzMxN2I4DQo+IGNoYW5nZS1p
ZDogMjAyNTAyMDYtd3FfcmV0cnktMWNiN2Y1YzE5MzVkDQo+IA0KPiBCZXN0IHJlZ2FyZHMsDQo+
IC0tDQo+IFVkYXkgU2hhbmthciA8dXNoYW5rYXJAcHVyZXN0b3JhZ2UuY29tPg0KPiANCg0KLS0t
DQpMaSBaZXRhbw0K

